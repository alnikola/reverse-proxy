<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class HttpTransformer
   </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class HttpTransformer
   ">
    <meta name="generator" content="docfx 2.58.0.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Yarp.ReverseProxy.Forwarder.HttpTransformer">
  
  
  <h1 id="Yarp_ReverseProxy_Forwarder_HttpTransformer" data-uid="Yarp.ReverseProxy.Forwarder.HttpTransformer" class="text-break">Class HttpTransformer
  </h1>
  <div class="markdown level0 summary"></div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object">Object</a></div>
    <div class="level1"><span class="xref">HttpTransformer</span></div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Yarp.ReverseProxy.Forwarder.html">Yarp.ReverseProxy.Forwarder</a></h6>
  <h6><strong>Assembly</strong>: Yarp.ReverseProxy.dll</h6>
  <h5 id="Yarp_ReverseProxy_Forwarder_HttpTransformer_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class HttpTransformer : object</code></pre>
  </div>
  <h3 id="constructors">Constructors
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/alnikola/reverse-proxy/new/release/latest/apiSpec/new?filename=Yarp_ReverseProxy_Forwarder_HttpTransformer__ctor.md&amp;value=---%0Auid%3A%20Yarp.ReverseProxy.Forwarder.HttpTransformer.%23ctor%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/alnikola/reverse-proxy/blob/release/latest/src/ReverseProxy/Forwarder/HttpTransformer.cs/#L26">View Source</a>
  </span>
  <a id="Yarp_ReverseProxy_Forwarder_HttpTransformer__ctor_" data-uid="Yarp.ReverseProxy.Forwarder.HttpTransformer.#ctor*"></a>
  <h4 id="Yarp_ReverseProxy_Forwarder_HttpTransformer__ctor" data-uid="Yarp.ReverseProxy.Forwarder.HttpTransformer.#ctor">HttpTransformer()</h4>
  <div class="markdown level1 summary"><p>Used to create derived instances.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected HttpTransformer()</code></pre>
  </div>
  <h3 id="fields">Fields
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/alnikola/reverse-proxy/new/release/latest/apiSpec/new?filename=Yarp_ReverseProxy_Forwarder_HttpTransformer_Default.md&amp;value=---%0Auid%3A%20Yarp.ReverseProxy.Forwarder.HttpTransformer.Default%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/alnikola/reverse-proxy/blob/release/latest/src/ReverseProxy/Forwarder/HttpTransformer.cs/#L21">View Source</a>
  </span>
  <h4 id="Yarp_ReverseProxy_Forwarder_HttpTransformer_Default" data-uid="Yarp.ReverseProxy.Forwarder.HttpTransformer.Default">Default</h4>
  <div class="markdown level1 summary"><p>A default set of transforms that copies all request and response fields and headers, except for some
protocol specific values.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static readonly HttpTransformer Default</code></pre>
  </div>
  <h5 class="fieldValue">Field Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Yarp.ReverseProxy.Forwarder.HttpTransformer.html">HttpTransformer</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/alnikola/reverse-proxy/new/release/latest/apiSpec/new?filename=Yarp_ReverseProxy_Forwarder_HttpTransformer_TransformRequestAsync_HttpContext_HttpRequestMessage_System_String_.md&amp;value=---%0Auid%3A%20Yarp.ReverseProxy.Forwarder.HttpTransformer.TransformRequestAsync(HttpContext%2CHttpRequestMessage%2CSystem.String)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/alnikola/reverse-proxy/blob/release/latest/src/ReverseProxy/Forwarder/HttpTransformer.cs/#L38">View Source</a>
  </span>
  <a id="Yarp_ReverseProxy_Forwarder_HttpTransformer_TransformRequestAsync_" data-uid="Yarp.ReverseProxy.Forwarder.HttpTransformer.TransformRequestAsync*"></a>
  <h4 id="Yarp_ReverseProxy_Forwarder_HttpTransformer_TransformRequestAsync_HttpContext_HttpRequestMessage_System_String_" data-uid="Yarp.ReverseProxy.Forwarder.HttpTransformer.TransformRequestAsync(HttpContext,HttpRequestMessage,System.String)">TransformRequestAsync(HttpContext, HttpRequestMessage, String)</h4>
  <div class="markdown level1 summary"><p>A callback that is invoked prior to sending the proxied request. All HttpRequestMessage fields are
initialized except RequestUri, which will be initialized after the callback if no value is provided.
See <a class="xref" href="Yarp.ReverseProxy.Forwarder.RequestUtilities.html#Yarp_ReverseProxy_Forwarder_RequestUtilities_MakeDestinationAddress_System_String_PathString_QueryString_">MakeDestinationAddress(String, PathString, QueryString)</a> for constructing a custom request Uri.
The string parameter represents the destination URI prefix that should be used when constructing the RequestUri.
The headers are copied by the base implementation, excluding some protocol headers like HTTP/2 pseudo headers (&quot;:authority&quot;).</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public virtual ValueTask TransformRequestAsync(HttpContext httpContext, HttpRequestMessage proxyRequest, string destinationPrefix)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">HttpContext</span></td>
        <td><span class="parametername">httpContext</span></td>
        <td><p>The incoming request.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">HttpRequestMessage</span></td>
        <td><span class="parametername">proxyRequest</span></td>
        <td><p>The outgoing proxy request.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.string">String</a></td>
        <td><span class="parametername">destinationPrefix</span></td>
        <td><p>The uri prefix for the selected destination server which can be used to create the RequestUri.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">ValueTask</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/alnikola/reverse-proxy/new/release/latest/apiSpec/new?filename=Yarp_ReverseProxy_Forwarder_HttpTransformer_TransformResponseAsync_HttpContext_HttpResponseMessage_.md&amp;value=---%0Auid%3A%20Yarp.ReverseProxy.Forwarder.HttpTransformer.TransformResponseAsync(HttpContext%2CHttpResponseMessage)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/alnikola/reverse-proxy/blob/release/latest/src/ReverseProxy/Forwarder/HttpTransformer.cs/#L67">View Source</a>
  </span>
  <a id="Yarp_ReverseProxy_Forwarder_HttpTransformer_TransformResponseAsync_" data-uid="Yarp.ReverseProxy.Forwarder.HttpTransformer.TransformResponseAsync*"></a>
  <h4 id="Yarp_ReverseProxy_Forwarder_HttpTransformer_TransformResponseAsync_HttpContext_HttpResponseMessage_" data-uid="Yarp.ReverseProxy.Forwarder.HttpTransformer.TransformResponseAsync(HttpContext,HttpResponseMessage)">TransformResponseAsync(HttpContext, HttpResponseMessage)</h4>
  <div class="markdown level1 summary"><p>A callback that is invoked when the proxied response is received. The status code and reason phrase will be copied
to the HttpContext.Response before the callback is invoked, but may still be modified there. The headers will be
copied to HttpContext.Response.Headers by the base implementation, excludes certain protocol headers like
<code>Transfer-Encoding: chunked</code>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public virtual ValueTask&lt;bool&gt; TransformResponseAsync(HttpContext httpContext, HttpResponseMessage proxyResponse)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">HttpContext</span></td>
        <td><span class="parametername">httpContext</span></td>
        <td><p>The incoming request.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">HttpResponseMessage</span></td>
        <td><span class="parametername">proxyResponse</span></td>
        <td><p>The response from the destination.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">ValueTask</span>&lt;<a class="xref" href="https://docs.microsoft.com/dotnet/api/system.boolean">Boolean</a>&gt;</td>
        <td><p>A bool indicating if the response should be proxied to the client or not. A derived implementation
that returns false may send an alternate response inline or return control to the caller for it to retry, respond,
etc.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/alnikola/reverse-proxy/new/release/latest/apiSpec/new?filename=Yarp_ReverseProxy_Forwarder_HttpTransformer_TransformResponseTrailersAsync_HttpContext_HttpResponseMessage_.md&amp;value=---%0Auid%3A%20Yarp.ReverseProxy.Forwarder.HttpTransformer.TransformResponseTrailersAsync(HttpContext%2CHttpResponseMessage)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/alnikola/reverse-proxy/blob/release/latest/src/ReverseProxy/Forwarder/HttpTransformer.cs/#L85">View Source</a>
  </span>
  <a id="Yarp_ReverseProxy_Forwarder_HttpTransformer_TransformResponseTrailersAsync_" data-uid="Yarp.ReverseProxy.Forwarder.HttpTransformer.TransformResponseTrailersAsync*"></a>
  <h4 id="Yarp_ReverseProxy_Forwarder_HttpTransformer_TransformResponseTrailersAsync_HttpContext_HttpResponseMessage_" data-uid="Yarp.ReverseProxy.Forwarder.HttpTransformer.TransformResponseTrailersAsync(HttpContext,HttpResponseMessage)">TransformResponseTrailersAsync(HttpContext, HttpResponseMessage)</h4>
  <div class="markdown level1 summary"><p>A callback that is invoked after the response body to modify trailers, if supported. The trailers will be
copied to the HttpContext.Response by the base implementation.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public virtual ValueTask TransformResponseTrailersAsync(HttpContext httpContext, HttpResponseMessage proxyResponse)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">HttpContext</span></td>
        <td><span class="parametername">httpContext</span></td>
        <td><p>The incoming request.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">HttpResponseMessage</span></td>
        <td><span class="parametername">proxyResponse</span></td>
        <td><p>The response from the destination.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">ValueTask</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/alnikola/reverse-proxy/new/release/latest/apiSpec/new?filename=Yarp_ReverseProxy_Forwarder_HttpTransformer.md&amp;value=---%0Auid%3A%20Yarp.ReverseProxy.Forwarder.HttpTransformer%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="contribution-link">Improve this Doc</a>
                  </li>
                  <li>
                    <a href="https://github.com/alnikola/reverse-proxy/blob/release/latest/src/ReverseProxy/Forwarder/HttpTransformer.cs/#L15" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
